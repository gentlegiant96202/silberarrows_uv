"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/inventory/page",{

/***/ "(app-pages-browser)/./components/modules/uv-crm/components/MediaUploader.tsx":
/*!****************************************************************!*\
  !*** ./components/modules/uv-crm/components/MediaUploader.tsx ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MediaUploader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./lib/supabaseClient.ts\");\n\nvar _s = $RefreshSig$();\n\n\n// Function to convert image to specific ratio while maintaining transparency\nconst processImageToRatio = async function(file, targetWidth, targetHeight) {\n    let addBackground = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n    return new Promise((resolve)=>{\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = ()=>{\n            canvas.width = targetWidth;\n            canvas.height = targetHeight;\n            if (!ctx) {\n                resolve(file); // fallback to original if canvas context fails\n                return;\n            }\n            // Add background only if requested (for main version)\n            if (addBackground) {\n                // Create light grey gradient background\n                const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n                gradient.addColorStop(0, '#f8f8f8'); // Very light grey at top\n                gradient.addColorStop(0.5, '#e8e8e8'); // Light grey in middle\n                gradient.addColorStop(1, '#d8d8d8'); // Medium light grey at bottom\n                // Fill background with gradient\n                ctx.fillStyle = gradient;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n            // Calculate scaling to fit image within canvas while maintaining aspect ratio\n            const imgAspectRatio = img.width / img.height;\n            const canvasAspectRatio = targetWidth / targetHeight;\n            let drawWidth, drawHeight, offsetX, offsetY;\n            if (imgAspectRatio > canvasAspectRatio) {\n                // Image is wider - fit to width\n                drawWidth = targetWidth;\n                drawHeight = targetWidth / imgAspectRatio;\n                offsetX = 0;\n                offsetY = (targetHeight - drawHeight) / 2;\n            } else {\n                // Image is taller - fit to height\n                drawWidth = targetHeight * imgAspectRatio;\n                drawHeight = targetHeight;\n                offsetX = (targetWidth - drawWidth) / 2;\n                offsetY = 0;\n            }\n            // Draw the image centered on the canvas\n            ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n            // Convert canvas to file\n            canvas.toBlob((blob)=>{\n                if (blob) {\n                    const suffix = addBackground ? '_with_bg' : targetWidth === targetHeight ? '_square' : '_4x5';\n                    const newFile = new File([\n                        blob\n                    ], file.name.replace(/\\.png$/i, \"\".concat(suffix, \".png\")), {\n                        type: 'image/png',\n                        lastModified: Date.now()\n                    });\n                    resolve(newFile);\n                } else {\n                    resolve(file); // fallback to original\n                }\n            }, 'image/png', 0.95);\n        };\n        img.onerror = ()=>{\n            resolve(file); // fallback to original if image loading fails\n        };\n        img.src = URL.createObjectURL(file);\n    });\n};\n// Function to check if PNG has transparency\nconst hasPngTransparency = async (file)=>{\n    if (!file.type.includes('png')) return false;\n    return new Promise((resolve)=>{\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = ()=>{\n            canvas.width = img.width;\n            canvas.height = img.height;\n            if (!ctx) {\n                resolve(false);\n                return;\n            }\n            ctx.drawImage(img, 0, 0);\n            try {\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                const data = imageData.data;\n                // Check for any pixels with alpha < 255 (transparency)\n                for(let i = 3; i < data.length; i += 4){\n                    if (data[i] < 255) {\n                        resolve(true);\n                        return;\n                    }\n                }\n                resolve(false);\n            } catch (error) {\n                // If we can't access image data (CORS, etc.), assume no transparency\n                resolve(false);\n            }\n        };\n        img.onerror = ()=>resolve(false);\n        img.src = URL.createObjectURL(file);\n    });\n};\nfunction MediaUploader(param) {\n    let { carId, onUploaded } = param;\n    _s();\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [totalFiles, setTotalFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [failedFiles, setFailedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [retrying, setRetrying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleFiles = async (e)=>{\n        const files = Array.from(e.target.files || []);\n        if (!files.length) return;\n        setUploading(true);\n        setTotalFiles(files.length);\n        setProgress(0);\n        setFailedFiles([]);\n        let failed = [];\n        for(let idx = 0; idx < files.length; idx++){\n            const file = files[idx];\n            if (file.type.startsWith('image')) {\n                try {\n                    // Check if PNG has transparency and process accordingly\n                    if (file.type.includes('png')) {\n                        console.log(\"PNG file detected: \".concat(file.name, \", checking transparency...\"));\n                        const hasTransparency = await hasPngTransparency(file);\n                        console.log(\"Transparency check result for \".concat(file.name, \": \").concat(hasTransparency));\n                        if (hasTransparency) {\n                            console.log(\"Processing transparent PNG: \".concat(file.name, \" into 3 versions\"));\n                            // Create 3 versions for transparent PNGs\n                            const versions = [\n                                {\n                                    file: await processImageToRatio(file, 1600, 1200, true),\n                                    kind: 'photo',\n                                    name: 'Main (with background)'\n                                },\n                                {\n                                    file: await processImageToRatio(file, 1080, 1350, false),\n                                    kind: 'photo_4x5',\n                                    name: '4:5 Ratio (transparent)'\n                                },\n                                {\n                                    file: await processImageToRatio(file, 1080, 1080, false),\n                                    kind: 'photo_square',\n                                    name: 'Square (transparent)'\n                                }\n                            ];\n                            console.log(\"Created \".concat(versions.length, \" versions for \").concat(file.name));\n                            // Upload all 3 versions\n                            for (const version of versions){\n                                console.log(\"Uploading \".concat(version.name, \" as \").concat(version.kind));\n                                await uploadSingleVersion(version.file, version.kind, file, idx, failed);\n                            }\n                        } else {\n                            console.log(\"Non-transparent PNG: \".concat(file.name, \", uploading original only\"));\n                            // Non-transparent PNG - just upload original\n                            await uploadSingleVersion(file, 'photo', file, idx, failed);\n                        }\n                    } else {\n                        console.log(\"Non-PNG image: \".concat(file.name, \", uploading original only\"));\n                        // Non-PNG image - just upload original\n                        await uploadSingleVersion(file, 'photo', file, idx, failed);\n                    }\n                } catch (err) {\n                    console.warn('Image processing failed, uploading original', err);\n                    await uploadSingleVersion(file, 'photo', file, idx, failed);\n                }\n            } else {\n                // Non-image file (video, etc.)\n                await uploadSingleVersion(file, file.type.startsWith('video') ? 'video' : 'document', file, idx, failed);\n            }\n            setProgress(Math.round((idx + 1) / files.length * 100));\n        }\n        setProgress(100);\n        setTimeout(()=>{\n            setUploading(false);\n            setProgress(0);\n            setTotalFiles(0);\n            if (onUploaded) onUploaded();\n        }, 800);\n        e.target.value = '';\n    };\n    // Helper function to upload a single version\n    const uploadSingleVersion = async (uploadFile, kind, originalFile, idx, failedArray)=>{\n        const ext = originalFile.name.split('.').pop();\n        const path = \"\".concat(carId, \"/\").concat(crypto.randomUUID(), \".\").concat(ext);\n        // Check if car already has media\n        const { count: photoCount } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from('car_media').select('*', {\n            head: true,\n            count: 'exact'\n        }).eq('car_id', carId).eq('kind', 'photo'); // Only count main photos for primary determination\n        const isFirstPhoto = kind === 'photo' && (!photoCount || photoCount === 0);\n        // Upload to Storage bucket 'car-media'\n        const { error: upErr } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from('car-media').upload(path, uploadFile, {\n            contentType: uploadFile.type || originalFile.type,\n            cacheControl: '3600',\n            upsert: false\n        });\n        if (upErr) {\n            failedArray.push({\n                file: originalFile,\n                error: upErr.message\n            });\n            setFailedFiles([\n                ...failedArray\n            ]);\n            return;\n        }\n        // Get permanent public URL\n        const { data: pub } = _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from('car-media').getPublicUrl(path);\n        const url = pub.publicUrl;\n        // Store the public URL in DB with proper kind and sort_order\n        await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from('car_media').insert({\n            car_id: carId,\n            kind: kind,\n            url,\n            is_primary: isFirstPhoto,\n            sort_order: idx\n        });\n    };\n    const retryFailed = async ()=>{\n        if (!failedFiles.length) return;\n        setRetrying(true);\n        // Retry only failed files\n        const filesToRetry = failedFiles.map((f)=>f.file);\n        setFailedFiles([]);\n        await handleFiles({\n            target: {\n                files: filesToRetry\n            }\n        });\n        setRetrying(false);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-1\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: \"block text-white/70 text-xs\",\n                children: \"Upload Photos / Videos\"\n            }, void 0, false, {\n                fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                lineNumber: 271,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"file\",\n                multiple: true,\n                accept: \"image/*,video/*\",\n                onChange: handleFiles,\n                disabled: uploading || retrying,\n                className: \"text-white text-xs\"\n            }, void 0, false, {\n                fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                lineNumber: 272,\n                columnNumber: 7\n            }, this),\n            uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-gray-700/50 h-3 rounded overflow-hidden relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-500 h-3 transition-all\",\n                        style: {\n                            width: \"\".concat(progress, \"%\")\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"absolute inset-0 text-[10px] flex items-center justify-center text-white/80\",\n                        children: [\n                            Math.max(progress, 1),\n                            \"% (\",\n                            Math.round(progress / 100 * totalFiles),\n                            \"/\",\n                            totalFiles,\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                lineNumber: 281,\n                columnNumber: 9\n            }, this),\n            failedFiles.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-xs text-red-400\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: \"Failed to upload:\"\n                    }, void 0, false, {\n                        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"list-disc ml-4\",\n                        children: failedFiles.map((param, idx)=>{\n                            let { file, error } = param;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    file.name,\n                                    \": \",\n                                    error\n                                ]\n                            }, idx, true, {\n                                fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                                lineNumber: 296,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"mt-1 px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700\",\n                        onClick: retryFailed,\n                        disabled: retrying,\n                        children: retrying ? 'Retrying...' : 'Retry Failed Uploads'\n                    }, void 0, false, {\n                        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n                lineNumber: 292,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Volumes/SilberArrows/CODEBASE/silberarrows_uv/components/modules/uv-crm/components/MediaUploader.tsx\",\n        lineNumber: 270,\n        columnNumber: 5\n    }, this);\n}\n_s(MediaUploader, \"8VQVnNzTH/Y7+g0IosAIAGTctC0=\");\n_c = MediaUploader;\nvar _c;\n$RefreshReg$(_c, \"MediaUploader\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvbW9kdWxlcy91di1jcm0vY29tcG9uZW50cy9NZWRpYVVwbG9hZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlDO0FBQ2U7QUFPaEQsNkVBQTZFO0FBQzdFLE1BQU1FLHNCQUFzQixlQUFPQyxNQUFZQyxhQUFxQkM7UUFBc0JDLGlGQUF5QjtJQUNqSCxPQUFPLElBQUlDLFFBQVEsQ0FBQ0M7UUFDbEIsTUFBTUMsU0FBU0MsU0FBU0MsYUFBYSxDQUFDO1FBQ3RDLE1BQU1DLE1BQU1ILE9BQU9JLFVBQVUsQ0FBQztRQUM5QixNQUFNQyxNQUFNLElBQUlDO1FBRWhCRCxJQUFJRSxNQUFNLEdBQUc7WUFDWFAsT0FBT1EsS0FBSyxHQUFHYjtZQUNmSyxPQUFPUyxNQUFNLEdBQUdiO1lBRWhCLElBQUksQ0FBQ08sS0FBSztnQkFDUkosUUFBUUwsT0FBTywrQ0FBK0M7Z0JBQzlEO1lBQ0Y7WUFFQSxzREFBc0Q7WUFDdEQsSUFBSUcsZUFBZTtnQkFDakIsd0NBQXdDO2dCQUN4QyxNQUFNYSxXQUFXUCxJQUFJUSxvQkFBb0IsQ0FBQyxHQUFHLEdBQUcsR0FBR1gsT0FBT1MsTUFBTTtnQkFDaEVDLFNBQVNFLFlBQVksQ0FBQyxHQUFHLFlBQWEseUJBQXlCO2dCQUMvREYsU0FBU0UsWUFBWSxDQUFDLEtBQUssWUFBWSx1QkFBdUI7Z0JBQzlERixTQUFTRSxZQUFZLENBQUMsR0FBRyxZQUFjLDhCQUE4QjtnQkFFckUsZ0NBQWdDO2dCQUNoQ1QsSUFBSVUsU0FBUyxHQUFHSDtnQkFDaEJQLElBQUlXLFFBQVEsQ0FBQyxHQUFHLEdBQUdkLE9BQU9RLEtBQUssRUFBRVIsT0FBT1MsTUFBTTtZQUNoRDtZQUVBLDhFQUE4RTtZQUM5RSxNQUFNTSxpQkFBaUJWLElBQUlHLEtBQUssR0FBR0gsSUFBSUksTUFBTTtZQUM3QyxNQUFNTyxvQkFBb0JyQixjQUFjQztZQUV4QyxJQUFJcUIsV0FBV0MsWUFBWUMsU0FBU0M7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QUkwQixLQUFLQyxLQUFLLENBQUMsV0FBWSxNQUFPekI7NEJBQVk7NEJBQUVBOzRCQUFXOzs7Ozs7Ozs7Ozs7O1lBSXZGRSxZQUFZWCxNQUFNLEdBQUcsbUJBQ3BCLDhEQUFDd0U7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDtrQ0FBSTs7Ozs7O2tDQUNMLDhEQUFDVzt3QkFBR1YsV0FBVTtrQ0FDWDlELFlBQVkyRCxHQUFHLENBQUMsUUFBa0JoRDtnQ0FBakIsRUFBRXZFLElBQUksRUFBRWtELEtBQUssRUFBRTtpREFDL0IsOERBQUNtRjs7b0NBQWNySSxLQUFLaUMsSUFBSTtvQ0FBQztvQ0FBR2lCOzsrQkFBbkJxQjs7Ozs7Ozs7Ozs7a0NBR2IsOERBQUMrRDt3QkFDQ1osV0FBVTt3QkFDVmEsU0FBU2xCO3dCQUNUVyxVQUFVbEU7a0NBRVRBLFdBQVcsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNeEM7R0F2THdCWDtLQUFBQSIsInNvdXJjZXMiOlsiL1ZvbHVtZXMvU2lsYmVyQXJyb3dzL0NPREVCQVNFL3NpbGJlcmFycm93c191di9jb21wb25lbnRzL21vZHVsZXMvdXYtY3JtL2NvbXBvbmVudHMvTWVkaWFVcGxvYWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY2FySWQ6IHN0cmluZztcbiAgb25VcGxvYWRlZD86ICgpID0+IHZvaWQ7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNvbnZlcnQgaW1hZ2UgdG8gc3BlY2lmaWMgcmF0aW8gd2hpbGUgbWFpbnRhaW5pbmcgdHJhbnNwYXJlbmN5XG5jb25zdCBwcm9jZXNzSW1hZ2VUb1JhdGlvID0gYXN5bmMgKGZpbGU6IEZpbGUsIHRhcmdldFdpZHRoOiBudW1iZXIsIHRhcmdldEhlaWdodDogbnVtYmVyLCBhZGRCYWNrZ3JvdW5kOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPEZpbGU+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHRhcmdldFdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHRhcmdldEhlaWdodDtcbiAgICAgIFxuICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgcmVzb2x2ZShmaWxlKTsgLy8gZmFsbGJhY2sgdG8gb3JpZ2luYWwgaWYgY2FudmFzIGNvbnRleHQgZmFpbHNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgYmFja2dyb3VuZCBvbmx5IGlmIHJlcXVlc3RlZCAoZm9yIG1haW4gdmVyc2lvbilcbiAgICAgIGlmIChhZGRCYWNrZ3JvdW5kKSB7XG4gICAgICAgIC8vIENyZWF0ZSBsaWdodCBncmV5IGdyYWRpZW50IGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCAnI2Y4ZjhmOCcpOyAgLy8gVmVyeSBsaWdodCBncmV5IGF0IHRvcFxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC41LCAnI2U4ZThlOCcpOyAvLyBMaWdodCBncmV5IGluIG1pZGRsZVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgJyNkOGQ4ZDgnKTsgICAvLyBNZWRpdW0gbGlnaHQgZ3JleSBhdCBib3R0b21cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbGwgYmFja2dyb3VuZCB3aXRoIGdyYWRpZW50XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBzY2FsaW5nIHRvIGZpdCBpbWFnZSB3aXRoaW4gY2FudmFzIHdoaWxlIG1haW50YWluaW5nIGFzcGVjdCByYXRpb1xuICAgICAgY29uc3QgaW1nQXNwZWN0UmF0aW8gPSBpbWcud2lkdGggLyBpbWcuaGVpZ2h0O1xuICAgICAgY29uc3QgY2FudmFzQXNwZWN0UmF0aW8gPSB0YXJnZXRXaWR0aCAvIHRhcmdldEhlaWdodDtcbiAgICAgIFxuICAgICAgbGV0IGRyYXdXaWR0aCwgZHJhd0hlaWdodCwgb2Zmc2V0WCwgb2Zmc2V0WTtcbiAgICAgIFxuICAgICAgaWYgKGltZ0FzcGVjdFJhdGlvID4gY2FudmFzQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgLy8gSW1hZ2UgaXMgd2lkZXIgLSBmaXQgdG8gd2lkdGhcbiAgICAgICAgZHJhd1dpZHRoID0gdGFyZ2V0V2lkdGg7XG4gICAgICAgIGRyYXdIZWlnaHQgPSB0YXJnZXRXaWR0aCAvIGltZ0FzcGVjdFJhdGlvO1xuICAgICAgICBvZmZzZXRYID0gMDtcbiAgICAgICAgb2Zmc2V0WSA9ICh0YXJnZXRIZWlnaHQgLSBkcmF3SGVpZ2h0KSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbWFnZSBpcyB0YWxsZXIgLSBmaXQgdG8gaGVpZ2h0XG4gICAgICAgIGRyYXdXaWR0aCA9IHRhcmdldEhlaWdodCAqIGltZ0FzcGVjdFJhdGlvO1xuICAgICAgICBkcmF3SGVpZ2h0ID0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICBvZmZzZXRYID0gKHRhcmdldFdpZHRoIC0gZHJhd1dpZHRoKSAvIDI7XG4gICAgICAgIG9mZnNldFkgPSAwO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBEcmF3IHRoZSBpbWFnZSBjZW50ZXJlZCBvbiB0aGUgY2FudmFzXG4gICAgICBjdHguZHJhd0ltYWdlKGltZywgb2Zmc2V0WCwgb2Zmc2V0WSwgZHJhd1dpZHRoLCBkcmF3SGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gZmlsZVxuICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IGFkZEJhY2tncm91bmQgPyAnX3dpdGhfYmcnIDogKHRhcmdldFdpZHRoID09PSB0YXJnZXRIZWlnaHQgPyAnX3NxdWFyZScgOiAnXzR4NScpO1xuICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZS5yZXBsYWNlKC9cXC5wbmckL2ksIGAke3N1ZmZpeH0ucG5nYCksIHtcbiAgICAgICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnLFxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZShuZXdGaWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKGZpbGUpOyAvLyBmYWxsYmFjayB0byBvcmlnaW5hbFxuICAgICAgICB9XG4gICAgICB9LCAnaW1hZ2UvcG5nJywgMC45NSk7XG4gICAgfTtcbiAgICBcbiAgICBpbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoZmlsZSk7IC8vIGZhbGxiYWNrIHRvIG9yaWdpbmFsIGlmIGltYWdlIGxvYWRpbmcgZmFpbHNcbiAgICB9O1xuICAgIFxuICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICB9KTtcbn07XG5cbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIFBORyBoYXMgdHJhbnNwYXJlbmN5XG5jb25zdCBoYXNQbmdUcmFuc3BhcmVuY3kgPSBhc3luYyAoZmlsZTogRmlsZSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICBpZiAoIWZpbGUudHlwZS5pbmNsdWRlcygncG5nJykpIHJldHVybiBmYWxzZTtcbiAgXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIFxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgIFxuICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBhbnkgcGl4ZWxzIHdpdGggYWxwaGEgPCAyNTUgKHRyYW5zcGFyZW5jeSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDM7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgaWYgKGRhdGFbaV0gPCAyNTUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgd2UgY2FuJ3QgYWNjZXNzIGltYWdlIGRhdGEgKENPUlMsIGV0Yy4pLCBhc3N1bWUgbm8gdHJhbnNwYXJlbmN5XG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgaW1nLm9uZXJyb3IgPSAoKSA9PiByZXNvbHZlKGZhbHNlKTtcbiAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZWRpYVVwbG9hZGVyKHsgY2FySWQsIG9uVXBsb2FkZWQgfTogUHJvcHMpIHtcbiAgY29uc3QgW3VwbG9hZGluZywgc2V0VXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2dyZXNzLCBzZXRQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3RvdGFsRmlsZXMsIHNldFRvdGFsRmlsZXNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtmYWlsZWRGaWxlcywgc2V0RmFpbGVkRmlsZXNdID0gdXNlU3RhdGU8eyBmaWxlOiBGaWxlLCBlcnJvcjogc3RyaW5nIH1bXT4oW10pO1xuICBjb25zdCBbcmV0cnlpbmcsIHNldFJldHJ5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVGaWxlcyA9IGFzeW5jIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyB8fCBbXSk7XG4gICAgaWYgKCFmaWxlcy5sZW5ndGgpIHJldHVybjtcbiAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XG4gICAgc2V0VG90YWxGaWxlcyhmaWxlcy5sZW5ndGgpO1xuICAgIHNldFByb2dyZXNzKDApO1xuICAgIHNldEZhaWxlZEZpbGVzKFtdKTtcblxuICAgIGxldCBmYWlsZWQ6IHsgZmlsZTogRmlsZSwgZXJyb3I6IHN0cmluZyB9W10gPSBbXTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGZpbGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1tpZHhdO1xuICAgICAgXG4gICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlJykpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBDaGVjayBpZiBQTkcgaGFzIHRyYW5zcGFyZW5jeSBhbmQgcHJvY2VzcyBhY2NvcmRpbmdseVxuICAgICAgICAgIGlmIChmaWxlLnR5cGUuaW5jbHVkZXMoJ3BuZycpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUE5HIGZpbGUgZGV0ZWN0ZWQ6ICR7ZmlsZS5uYW1lfSwgY2hlY2tpbmcgdHJhbnNwYXJlbmN5Li4uYCk7XG4gICAgICAgICAgICBjb25zdCBoYXNUcmFuc3BhcmVuY3kgPSBhd2FpdCBoYXNQbmdUcmFuc3BhcmVuY3koZmlsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVHJhbnNwYXJlbmN5IGNoZWNrIHJlc3VsdCBmb3IgJHtmaWxlLm5hbWV9OiAke2hhc1RyYW5zcGFyZW5jeX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGhhc1RyYW5zcGFyZW5jeSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyB0cmFuc3BhcmVudCBQTkc6ICR7ZmlsZS5uYW1lfSBpbnRvIDMgdmVyc2lvbnNgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENyZWF0ZSAzIHZlcnNpb25zIGZvciB0cmFuc3BhcmVudCBQTkdzXG4gICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25zID0gW1xuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICBmaWxlOiBhd2FpdCBwcm9jZXNzSW1hZ2VUb1JhdGlvKGZpbGUsIDE2MDAsIDEyMDAsIHRydWUpLCAvLyBNYWluIHdpdGggYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAga2luZDogJ3Bob3RvJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdNYWluICh3aXRoIGJhY2tncm91bmQpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgIGZpbGU6IGF3YWl0IHByb2Nlc3NJbWFnZVRvUmF0aW8oZmlsZSwgMTA4MCwgMTM1MCwgZmFsc2UpLCAvLyA0OjUgdHJhbnNwYXJlbnRcbiAgICAgICAgICAgICAgICAgIGtpbmQ6ICdwaG90b180eDUnLCBcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICc0OjUgUmF0aW8gKHRyYW5zcGFyZW50KSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICBmaWxlOiBhd2FpdCBwcm9jZXNzSW1hZ2VUb1JhdGlvKGZpbGUsIDEwODAsIDEwODAsIGZhbHNlKSwgLy8gMToxIHRyYW5zcGFyZW50XG4gICAgICAgICAgICAgICAgICBraW5kOiAncGhvdG9fc3F1YXJlJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdTcXVhcmUgKHRyYW5zcGFyZW50KSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCAke3ZlcnNpb25zLmxlbmd0aH0gdmVyc2lvbnMgZm9yICR7ZmlsZS5uYW1lfWApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gVXBsb2FkIGFsbCAzIHZlcnNpb25zXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdmVyc2lvbiBvZiB2ZXJzaW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVcGxvYWRpbmcgJHt2ZXJzaW9uLm5hbWV9IGFzICR7dmVyc2lvbi5raW5kfWApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwbG9hZFNpbmdsZVZlcnNpb24odmVyc2lvbi5maWxlLCB2ZXJzaW9uLmtpbmQsIGZpbGUsIGlkeCwgZmFpbGVkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5vbi10cmFuc3BhcmVudCBQTkc6ICR7ZmlsZS5uYW1lfSwgdXBsb2FkaW5nIG9yaWdpbmFsIG9ubHlgKTtcbiAgICAgICAgICAgICAgLy8gTm9uLXRyYW5zcGFyZW50IFBORyAtIGp1c3QgdXBsb2FkIG9yaWdpbmFsXG4gICAgICAgICAgICAgIGF3YWl0IHVwbG9hZFNpbmdsZVZlcnNpb24oZmlsZSwgJ3Bob3RvJywgZmlsZSwgaWR4LCBmYWlsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTm9uLVBORyBpbWFnZTogJHtmaWxlLm5hbWV9LCB1cGxvYWRpbmcgb3JpZ2luYWwgb25seWApO1xuICAgICAgICAgICAgLy8gTm9uLVBORyBpbWFnZSAtIGp1c3QgdXBsb2FkIG9yaWdpbmFsXG4gICAgICAgICAgICBhd2FpdCB1cGxvYWRTaW5nbGVWZXJzaW9uKGZpbGUsICdwaG90bycsIGZpbGUsIGlkeCwgZmFpbGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignSW1hZ2UgcHJvY2Vzc2luZyBmYWlsZWQsIHVwbG9hZGluZyBvcmlnaW5hbCcsIGVycik7XG4gICAgICAgICAgYXdhaXQgdXBsb2FkU2luZ2xlVmVyc2lvbihmaWxlLCAncGhvdG8nLCBmaWxlLCBpZHgsIGZhaWxlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vbi1pbWFnZSBmaWxlICh2aWRlbywgZXRjLilcbiAgICAgICAgYXdhaXQgdXBsb2FkU2luZ2xlVmVyc2lvbihmaWxlLCBmaWxlLnR5cGUuc3RhcnRzV2l0aCgndmlkZW8nKSA/ICd2aWRlbycgOiAnZG9jdW1lbnQnLCBmaWxlLCBpZHgsIGZhaWxlZCk7XG4gICAgICB9XG5cbiAgICAgIHNldFByb2dyZXNzKE1hdGgucm91bmQoKChpZHggKyAxKSAvIGZpbGVzLmxlbmd0aCkgKiAxMDApKTtcbiAgICB9XG5cbiAgICBzZXRQcm9ncmVzcygxMDApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0VXBsb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldFByb2dyZXNzKDApO1xuICAgICAgc2V0VG90YWxGaWxlcygwKTtcbiAgICAgIGlmIChvblVwbG9hZGVkKSBvblVwbG9hZGVkKCk7XG4gICAgfSwgODAwKTtcbiAgICBlLnRhcmdldC52YWx1ZSA9ICcnO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGxvYWQgYSBzaW5nbGUgdmVyc2lvblxuICBjb25zdCB1cGxvYWRTaW5nbGVWZXJzaW9uID0gYXN5bmMgKHVwbG9hZEZpbGU6IEZpbGUgfCBCbG9iLCBraW5kOiBzdHJpbmcsIG9yaWdpbmFsRmlsZTogRmlsZSwgaWR4OiBudW1iZXIsIGZhaWxlZEFycmF5OiB7IGZpbGU6IEZpbGUsIGVycm9yOiBzdHJpbmcgfVtdKSA9PiB7XG4gICAgY29uc3QgZXh0ID0gb3JpZ2luYWxGaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICBjb25zdCBwYXRoID0gYCR7Y2FySWR9LyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX0uJHtleHR9YDtcblxuICAgIC8vIENoZWNrIGlmIGNhciBhbHJlYWR5IGhhcyBtZWRpYVxuICAgIGNvbnN0IHsgY291bnQ6IHBob3RvQ291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FyX21lZGlhJylcbiAgICAgIC5zZWxlY3QoJyonLCB7IGhlYWQ6IHRydWUsIGNvdW50OiAnZXhhY3QnIH0pXG4gICAgICAuZXEoJ2Nhcl9pZCcsIGNhcklkKVxuICAgICAgLmVxKCdraW5kJywgJ3Bob3RvJyk7IC8vIE9ubHkgY291bnQgbWFpbiBwaG90b3MgZm9yIHByaW1hcnkgZGV0ZXJtaW5hdGlvblxuICAgIGNvbnN0IGlzRmlyc3RQaG90byA9IGtpbmQgPT09ICdwaG90bycgJiYgKCFwaG90b0NvdW50IHx8IHBob3RvQ291bnQgPT09IDApO1xuXG4gICAgLy8gVXBsb2FkIHRvIFN0b3JhZ2UgYnVja2V0ICdjYXItbWVkaWEnXG4gICAgY29uc3QgeyBlcnJvcjogdXBFcnIgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgIC5mcm9tKCdjYXItbWVkaWEnKVxuICAgICAgLnVwbG9hZChwYXRoLCB1cGxvYWRGaWxlLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiB1cGxvYWRGaWxlLnR5cGUgfHwgb3JpZ2luYWxGaWxlLnR5cGUsXG4gICAgICAgIGNhY2hlQ29udHJvbDogJzM2MDAnLFxuICAgICAgICB1cHNlcnQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgXG4gICAgaWYgKHVwRXJyKSB7XG4gICAgICBmYWlsZWRBcnJheS5wdXNoKHsgZmlsZTogb3JpZ2luYWxGaWxlLCBlcnJvcjogdXBFcnIubWVzc2FnZSB9KTtcbiAgICAgIHNldEZhaWxlZEZpbGVzKFsuLi5mYWlsZWRBcnJheV0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCBwZXJtYW5lbnQgcHVibGljIFVSTFxuICAgIGNvbnN0IHsgZGF0YTogcHViIH0gPSBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ2Nhci1tZWRpYScpLmdldFB1YmxpY1VybChwYXRoKTtcbiAgICBjb25zdCB1cmwgPSBwdWIucHVibGljVXJsO1xuXG4gICAgLy8gU3RvcmUgdGhlIHB1YmxpYyBVUkwgaW4gREIgd2l0aCBwcm9wZXIga2luZCBhbmQgc29ydF9vcmRlclxuICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2Nhcl9tZWRpYScpLmluc2VydCh7XG4gICAgICBjYXJfaWQ6IGNhcklkLFxuICAgICAga2luZDoga2luZCxcbiAgICAgIHVybCxcbiAgICAgIGlzX3ByaW1hcnk6IGlzRmlyc3RQaG90byxcbiAgICAgIHNvcnRfb3JkZXI6IGlkeCxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZXRyeUZhaWxlZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWZhaWxlZEZpbGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgIHNldFJldHJ5aW5nKHRydWUpO1xuICAgIC8vIFJldHJ5IG9ubHkgZmFpbGVkIGZpbGVzXG4gICAgY29uc3QgZmlsZXNUb1JldHJ5ID0gZmFpbGVkRmlsZXMubWFwKGYgPT4gZi5maWxlKTtcbiAgICBzZXRGYWlsZWRGaWxlcyhbXSk7XG4gICAgYXdhaXQgaGFuZGxlRmlsZXMoeyB0YXJnZXQ6IHsgZmlsZXM6IGZpbGVzVG9SZXRyeSB9IH0gYXMgYW55KTtcbiAgICBzZXRSZXRyeWluZyhmYWxzZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtd2hpdGUvNzAgdGV4dC14c1wiPlVwbG9hZCBQaG90b3MgLyBWaWRlb3M8L2xhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKix2aWRlby8qXCJcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVzfVxuICAgICAgICBkaXNhYmxlZD17dXBsb2FkaW5nIHx8IHJldHJ5aW5nfVxuICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteHNcIlxuICAgICAgLz5cbiAgICAgIHt1cGxvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTcwMC81MCBoLTMgcm91bmRlZCBvdmVyZmxvdy1oaWRkZW4gcmVsYXRpdmVcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNTAwIGgtMyB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cHJvZ3Jlc3N9JWAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdGV4dC1bMTBweF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZS84MFwiPlxuICAgICAgICAgICAge01hdGgubWF4KHByb2dyZXNzLCAxKX0lICh7TWF0aC5yb3VuZCgocHJvZ3Jlc3MgLyAxMDApICogdG90YWxGaWxlcyl9L3t0b3RhbEZpbGVzfSlcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHtmYWlsZWRGaWxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1yZWQtNDAwXCI+XG4gICAgICAgICAgPGRpdj5GYWlsZWQgdG8gdXBsb2FkOjwvZGl2PlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgbWwtNFwiPlxuICAgICAgICAgICAge2ZhaWxlZEZpbGVzLm1hcCgoeyBmaWxlLCBlcnJvciB9LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgPGxpIGtleT17aWR4fT57ZmlsZS5uYW1lfToge2Vycm9yfTwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgcHgtMiBweS0xIGJnLXJlZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctcmVkLTcwMFwiXG4gICAgICAgICAgICBvbkNsaWNrPXtyZXRyeUZhaWxlZH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtyZXRyeWluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmV0cnlpbmcgPyAnUmV0cnlpbmcuLi4nIDogJ1JldHJ5IEZhaWxlZCBVcGxvYWRzJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJzdXBhYmFzZSIsInByb2Nlc3NJbWFnZVRvUmF0aW8iLCJmaWxlIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJhZGRCYWNrZ3JvdW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJ3aWR0aCIsImhlaWdodCIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImltZ0FzcGVjdFJhdGlvIiwiY2FudmFzQXNwZWN0UmF0aW8iLCJkcmF3V2lkdGgiLCJkcmF3SGVpZ2h0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJibG9iIiwic3VmZml4IiwibmV3RmlsZSIsIkZpbGUiLCJuYW1lIiwicmVwbGFjZSIsInR5cGUiLCJsYXN0TW9kaWZpZWQiLCJEYXRlIiwibm93Iiwib25lcnJvciIsInNyYyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhhc1BuZ1RyYW5zcGFyZW5jeSIsImluY2x1ZGVzIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiZGF0YSIsImkiLCJsZW5ndGgiLCJlcnJvciIsIk1lZGlhVXBsb2FkZXIiLCJjYXJJZCIsIm9uVXBsb2FkZWQiLCJ1cGxvYWRpbmciLCJzZXRVcGxvYWRpbmciLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwidG90YWxGaWxlcyIsInNldFRvdGFsRmlsZXMiLCJmYWlsZWRGaWxlcyIsInNldEZhaWxlZEZpbGVzIiwicmV0cnlpbmciLCJzZXRSZXRyeWluZyIsImhhbmRsZUZpbGVzIiwiZSIsImZpbGVzIiwiQXJyYXkiLCJmcm9tIiwidGFyZ2V0IiwiZmFpbGVkIiwiaWR4Iiwic3RhcnRzV2l0aCIsImNvbnNvbGUiLCJsb2ciLCJoYXNUcmFuc3BhcmVuY3kiLCJ2ZXJzaW9ucyIsImtpbmQiLCJ2ZXJzaW9uIiwidXBsb2FkU2luZ2xlVmVyc2lvbiIsImVyciIsIndhcm4iLCJNYXRoIiwicm91bmQiLCJzZXRUaW1lb3V0IiwidmFsdWUiLCJ1cGxvYWRGaWxlIiwib3JpZ2luYWxGaWxlIiwiZmFpbGVkQXJyYXkiLCJleHQiLCJzcGxpdCIsInBvcCIsInBhdGgiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiY291bnQiLCJwaG90b0NvdW50Iiwic2VsZWN0IiwiaGVhZCIsImVxIiwiaXNGaXJzdFBob3RvIiwidXBFcnIiLCJzdG9yYWdlIiwidXBsb2FkIiwiY29udGVudFR5cGUiLCJjYWNoZUNvbnRyb2wiLCJ1cHNlcnQiLCJwdXNoIiwibWVzc2FnZSIsInB1YiIsImdldFB1YmxpY1VybCIsInVybCIsInB1YmxpY1VybCIsImluc2VydCIsImNhcl9pZCIsImlzX3ByaW1hcnkiLCJzb3J0X29yZGVyIiwicmV0cnlGYWlsZWQiLCJmaWxlc1RvUmV0cnkiLCJtYXAiLCJmIiwiZGl2IiwiY2xhc3NOYW1lIiwibGFiZWwiLCJpbnB1dCIsIm11bHRpcGxlIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJkaXNhYmxlZCIsInN0eWxlIiwic3BhbiIsIm1heCIsInVsIiwibGkiLCJidXR0b24iLCJvbkNsaWNrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/modules/uv-crm/components/MediaUploader.tsx\n"));

/***/ })

});